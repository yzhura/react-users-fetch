{"version":3,"sources":["hooks/useUsersService.js","components/appContext/index.js","components/table/index.js","components/section-wrap/index.js","components/overlay/index.js","hooks/useOutsideClickEffect.js","components/modal/index.js","components/app/index.js","index.js","components/modal/modal.module.css","components/table/table.module.css","components/overlay/overlay.module.css"],"names":["useUsersService","useState","dataFromService","setData","error","setError","useEffect","a","fetch","result","ok","status","json","fetchData","then","data","AppContext","React","createContext","AppProvider","props","localData","setLocalData","isOverlayActive","setOverlay","activeUser","setActiveUser","activeSortClass","setActiveClass","sortReverse","setSortReverse","Provider","value","openModalInfo","user","closeModalInfo","sortBy","sortTitle","state","sortArr","map","el","sort","reverse","sortData","newArr","i","push","find","length","children","UsersTable","useContext","userInfo","name","username","email","website","id","onClick","thElements","title","ind","toLowerCase","className","styles","tableResponsive","table","SectionWrap","sectionClass","addContainerClasses","containerClasses","Overlay","overlay","useOutSideClickEffect","ref","isOutsideClicked","setOutsideClicked","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","Modal","closeFunction","refContainer","useRef","modal","header","type","btnClose","body","App","address","city","street","zipcode","href","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.edb60d2f.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useUsersService = () => {\r\n\r\n  const [dataFromService, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await fetch('https://jsonplaceholder.typicode.com/users');\r\n        if(!result.ok) {\r\n            setError(result.status)\r\n        }\r\n      return await result.json();\r\n    };\r\n    \r\n    fetchData().then(data => setData(data));\r\n  }, []);\r\n\r\n  return {\r\n    dataFromService,\r\n    error\r\n  }\r\n}\r\n\r\nexport default useUsersService;","import React, { useState, useEffect } from 'react';\r\nimport useUsersService from '../../hooks/useUsersService';\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = (props) => {\r\n\r\n    const { dataFromService, error } = useUsersService();\r\n    const [localData, setLocalData] = useState(null);\r\n    const [isOverlayActive, setOverlay] = useState(false);\r\n    const [activeUser, setActiveUser] = useState(null);\r\n    const [activeSortClass, setActiveClass] = useState('');\r\n    const [sortReverse, setSortReverse] = useState(false);\r\n\r\n    useEffect(() => {\r\n      setLocalData(dataFromService)\r\n    }, [dataFromService])\r\n\r\n    const openModalInfo = (user) => {\r\n      setActiveUser(user);\r\n      setOverlay(true);\r\n    }\r\n\r\n    const closeModalInfo = () => {\r\n      setActiveUser(null);\r\n      setOverlay(false);\r\n    }\r\n\r\n    const sortBy = (sortTitle) => {\r\n\r\n      if(sortReverse) {\r\n        setActiveClass(`active-down-${sortTitle}`);\r\n      } else {\r\n        setActiveClass(`active-${sortTitle}`);\r\n      }\r\n      \r\n      setSortReverse(state => !state);\r\n      let sortArr = sortData();\r\n\r\n      const newArr = [];\r\n      \r\n      for(let i = 0; i < dataFromService.length; i++) {\r\n        newArr.push(dataFromService.find(el => el[sortTitle] === sortArr[i]));\r\n      }\r\n\r\n      function sortData() {\r\n        const sortArr = dataFromService.map((el) => {\r\n          return el[sortTitle]\r\n        }).sort();\r\n\r\n        if(sortReverse) {\r\n          return sortArr.reverse();\r\n        }\r\n\r\n        return sortArr;\r\n      }\r\n\r\n      setLocalData(newArr);\r\n    }\r\n\r\n    return (\r\n        <AppContext.Provider\r\n          value={{\r\n              localData,\r\n              error,\r\n              activeUser,\r\n              isOverlayActive,\r\n              setOverlay,\r\n              openModalInfo,\r\n              closeModalInfo,\r\n              setActiveUser,\r\n              sortBy,\r\n              sortReverse,\r\n              activeSortClass\r\n          }}>\r\n          {props.children}\r\n        </AppContext.Provider>\r\n      )\r\n}\r\n\r\nexport { AppContext };\r\nexport default AppProvider;","import React, { useContext } from 'react'\r\nimport styles from './table.module.css';\r\nimport { AppContext } from \"../appContext\";\r\n\r\nconst UsersTable = () => {\r\n\r\n    const { \r\n        localData, \r\n        error, \r\n        openModalInfo, \r\n        sortBy,\r\n        activeSortClass\r\n    } = useContext(AppContext);\r\n\r\n    const headtTitlesArr = ['Name', 'Username', 'Email', 'Website'];\r\n\r\n    if(error) {\r\n        return (\r\n            <>\r\n                <h1>Поломалось &#9785;</h1>\r\n                <p>Код ошибки: {error}</p>\r\n            </>\r\n        )\r\n    }\r\n\r\n    if(!localData) {\r\n        return <h1>Loading...</h1>\r\n    }\r\n\r\n    const userInfo = localData.map((user) => {\r\n        const {name, username, email, website, id} = user;\r\n        return (\r\n            <tr key={id} onClick={() => openModalInfo(user)}>\r\n                <td >{name}</td>\r\n                <td>{username}</td>\r\n                <td>{email}</td>\r\n                <td>{website}</td>\r\n            </tr>\r\n        )\r\n    });\r\n\r\n    const thElements = headtTitlesArr.map((title, ind) => {\r\n        return (\r\n            <th \r\n                onClick={() => sortBy(title.toLowerCase())} \r\n                key={ind}>\r\n                <span className={styles[title.toLowerCase()]}>{title}</span>\r\n            </th>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className={styles.tableResponsive}>\r\n            <table className={styles.table}>\r\n                <thead className={styles[activeSortClass]}>\r\n                    <tr>\r\n                        {thElements}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {userInfo}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersTable;\r\n","import React from 'react'\r\n\r\nconst SectionWrap = ({sectionClass, addContainerClasses, children}) => {\r\n\r\n    let containerClasses = 'container';\r\n\r\n    if(addContainerClasses) {\r\n        containerClasses += ` ${addContainerClasses}`;\r\n    }\r\n\r\n    return (\r\n        <section className={sectionClass}>\r\n            <div className={containerClasses}>\r\n                {children}\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default SectionWrap;","import React from 'react';\r\nimport styles from './overlay.module.css'\r\n\r\nconst Overlay = () => {\r\n    return (\r\n        <div className={styles.overlay}></div>\r\n    )\r\n}\r\n\r\nexport default Overlay;","import { useEffect, useState } from 'react';\r\n\r\nconst useOutSideClickEffect = (ref) => {\r\n\r\n  const [isOutsideClicked, setOutsideClicked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setOutsideClicked(true);\r\n      } else {\r\n        setOutsideClicked(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return { isOutsideClicked }\r\n}\r\n\r\nexport default useOutSideClickEffect;","import React, {useRef, useEffect} from 'react';\r\nimport styles from './modal.module.css';\r\nimport useOutSideClickEffect from '../../hooks/useOutsideClickEffect';\r\n\r\nconst Modal = ({title, children, closeFunction}) => {\r\n\r\n    const refContainer = useRef(null);\r\n\r\n    const { isOutsideClicked } = useOutSideClickEffect(refContainer);\r\n\r\n    useEffect(() => {\r\n        if(isOutsideClicked) {\r\n            closeFunction();\r\n        }\r\n    }, [isOutsideClicked]);\r\n\r\n    return (\r\n        <div className={styles.modal} ref={refContainer}>\r\n            <div className={styles.header}>\r\n                <h2 className={styles.title}>{title}</h2>\r\n                <button \r\n                    type=\"button\" \r\n                    onClick={closeFunction}\r\n                    className={`btn-close ${styles.btnClose}`}>\r\n                        &times;\r\n                    </button>\r\n            </div>\r\n            <div className={styles.body}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useContext } from 'react'\r\nimport UsersTable from '../table';\r\nimport SectionWrap from \"../section-wrap\";\r\nimport { AppContext } from \"../appContext\";\r\nimport Overlay from '../overlay';\r\nimport Modal from '../modal';\r\n\r\nconst App = () => {\r\n    \r\n    const { \r\n        isOverlayActive, \r\n        activeUser, \r\n        closeModalInfo,\r\n    } = useContext(AppContext);\r\n\r\n    let name, website, address;\r\n\r\n    if(activeUser) {\r\n        name = activeUser.name;\r\n        website = activeUser.website;\r\n        address = activeUser.address;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SectionWrap sectionClass='users-section'>\r\n                <h1>Our users:</h1>\r\n                <UsersTable/>\r\n            </SectionWrap>\r\n            {isOverlayActive ? <Overlay/> : null}\r\n            {\r\n                activeUser\r\n                ?\r\n                <Modal title={name} closeFunction={closeModalInfo} >\r\n                    <ul className=\"additional-list\">\r\n                        <li>City: <em>{address.city}</em></li>\r\n                        <li>Street: <em>{address.street}</em></li>\r\n                        <li>Zipcode: <em>{address.zipcode}</em></li>\r\n                        <li>Website: <a href={`http://${website}`}>{website}</a></li>\r\n                    </ul>\r\n                </Modal> \r\n                :\r\n                null\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app'\nimport AppProvider from './components/appContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App/>\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1XAsF\",\"header\":\"modal_header__pL3Rs\",\"title\":\"modal_title__286L_\",\"body\":\"modal_body__PQ8Wx\",\"btnClose\":\"modal_btnClose__2Bc4c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableResponsive\":\"table_tableResponsive__YQE7C\",\"table\":\"table_table__2qY4g\",\"active-down-name\":\"table_active-down-name__2cpGU\",\"name\":\"table_name__1mHZX\",\"active-down-username\":\"table_active-down-username__4cxOs\",\"username\":\"table_username__1YShZ\",\"active-down-email\":\"table_active-down-email__eU_cC\",\"email\":\"table_email__1di-p\",\"active-down-website\":\"table_active-down-website__18zJp\",\"website\":\"table_website__p6CaN\",\"active-name\":\"table_active-name__28y3Y\",\"active-username\":\"table_active-username__3gi6b\",\"active-email\":\"table_active-email__1v3Hh\",\"active-website\":\"table_active-website__yNlQV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"overlay_overlay__3WHRl\"};"],"sourceRoot":""}